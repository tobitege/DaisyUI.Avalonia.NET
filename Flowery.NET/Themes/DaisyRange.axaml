<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Flowery.Controls;assembly=Flowery.NET">

    <Design.PreviewWith>
        <Border Padding="20" Width="400">
            <StackPanel Spacing="20">
                <controls:DaisyRange Value="40" Maximum="100" />
                <controls:DaisyRange Value="60" Maximum="100" Variant="Primary" />
                <controls:DaisyRange Value="20" Maximum="100" Variant="Secondary" Size="Large" />
                 <controls:DaisyRange Value="80" Maximum="100" Variant="Accent" Size="ExtraSmall" />
            </StackPanel>
        </Border>
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type controls:DaisyRange}" TargetType="controls:DaisyRange">
        <Setter Property="Background" Value="{DynamicResource DaisyBase300Brush}" /> <!-- Track Color -->
        <Setter Property="Foreground" Value="{DynamicResource DaisyBaseContentBrush}" /> <!-- Thumb Color default -->
        <Setter Property="FontSize" Value="12" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="MinHeight" Value="24" />
        <Setter Property="Template">
            <ControlTemplate>
                <Grid>
                    <Track Name="PART_Track" Minimum="{TemplateBinding Minimum}" Maximum="{TemplateBinding Maximum}" Value="{TemplateBinding Value, Mode=TwoWay}" Orientation="Horizontal">
                        <Track.DecreaseButton>
                            <RepeatButton Name="PART_DecreaseButton" Background="Transparent" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                <RepeatButton.Template>
                                    <ControlTemplate>
                                        <Grid>
                                             <!-- DaisyUI Range "filled" part on the left usually matches the thumb color in many themes, or is same as background.
                                                  DaisyUI default doesn't fill the left side differently than the right side in the basic range,
                                                  but many users expect it. The CSS `range` input usually has one track color.
                                                  DaisyUI range uses the browser default mostly but styled.
                                                  We will color the left side (DecreaseButton) with the Variant color if desired,
                                                  but standard DaisyUI range is often just a thumb on a track.
                                                  However, let's make it look like the DaisyUI one: A solid track, and a thumb. -->
                                             <!-- Actually, DaisyUI range sets background-color on the input, which is the track.
                                                  The thumb is the "knob". -->
                                        </Grid>
                                    </ControlTemplate>
                                </RepeatButton.Template>
                            </RepeatButton>
                        </Track.DecreaseButton>
                        <Track.IncreaseButton>
                            <RepeatButton Name="PART_IncreaseButton" Background="Transparent" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                <RepeatButton.Template>
                                    <ControlTemplate>
                                        <Grid />
                                    </ControlTemplate>
                                </RepeatButton.Template>
                            </RepeatButton>
                        </Track.IncreaseButton>
                        <Track.Thumb>
                            <Thumb Name="thumb" MinWidth="20" MinHeight="20">
                                <Thumb.Template>
                                    <ControlTemplate>
                                        <Ellipse Width="{TemplateBinding Width}" Height="{TemplateBinding Height}" Fill="{TemplateBinding Background}" />
                                    </ControlTemplate>
                                </Thumb.Template>
                            </Thumb>
                        </Track.Thumb>
                    </Track>

                    <!-- The Visual Track Background -->
                    <Border Name="TrackBackground" Height="8" CornerRadius="4" Background="{TemplateBinding Background}" VerticalAlignment="Center" ZIndex="-1" Margin="0,0,0,0" />
                </Grid>
            </ControlTemplate>
        </Setter>

        <!-- Default Thumb Color -->
        <Style Selector="^ /template/ Thumb#thumb">
            <Setter Property="Background" Value="{DynamicResource DaisyBaseContentBrush}" />
            <Setter Property="Width" Value="24" />
            <Setter Property="Height" Value="24" />
        </Style>

        <!-- Variants -->
        <Style Selector="^[Variant=Primary]">
             <Setter Property="Foreground" Value="{DynamicResource DaisyPrimaryBrush}" />
        </Style>
        <Style Selector="^[Variant=Primary] /template/ Thumb#thumb">
             <Setter Property="Background" Value="{DynamicResource DaisyPrimaryBrush}" />
        </Style>

        <Style Selector="^[Variant=Secondary]">
             <Setter Property="Foreground" Value="{DynamicResource DaisySecondaryBrush}" />
        </Style>
        <Style Selector="^[Variant=Secondary] /template/ Thumb#thumb">
             <Setter Property="Background" Value="{DynamicResource DaisySecondaryBrush}" />
        </Style>

        <Style Selector="^[Variant=Accent]">
             <Setter Property="Foreground" Value="{DynamicResource DaisyAccentBrush}" />
        </Style>
        <Style Selector="^[Variant=Accent] /template/ Thumb#thumb">
             <Setter Property="Background" Value="{DynamicResource DaisyAccentBrush}" />
        </Style>

        <!-- Sizes -->
        <Style Selector="^[Size=Large] /template/ Border#TrackBackground">
            <Setter Property="Height" Value="12" />
            <Setter Property="CornerRadius" Value="6" />
        </Style>
        <Style Selector="^[Size=Large] /template/ Thumb#thumb">
            <Setter Property="Width" Value="32" />
            <Setter Property="Height" Value="32" />
        </Style>

        <Style Selector="^[Size=Small] /template/ Border#TrackBackground">
            <Setter Property="Height" Value="6" />
            <Setter Property="CornerRadius" Value="3" />
        </Style>
        <Style Selector="^[Size=Small] /template/ Thumb#thumb">
            <Setter Property="Width" Value="20" />
            <Setter Property="Height" Value="20" />
        </Style>

        <Style Selector="^[Size=ExtraSmall] /template/ Border#TrackBackground">
            <Setter Property="Height" Value="4" />
            <Setter Property="CornerRadius" Value="2" />
        </Style>
        <Style Selector="^[Size=ExtraSmall] /template/ Thumb#thumb">
            <Setter Property="Width" Value="16" />
            <Setter Property="Height" Value="16" />
        </Style>

    </ControlTheme>
</ResourceDictionary>
