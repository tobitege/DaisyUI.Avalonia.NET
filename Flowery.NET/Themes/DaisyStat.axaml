<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Flowery.Controls;assembly=Flowery.NET">

    <Design.PreviewWith>
        <Border Padding="20" Background="{DynamicResource DaisyBase200Brush}">
            <StackPanel Spacing="20">
                <controls:DaisyStats>
                    <controls:DaisyStat Title="Total Page Views" Value="89,400" Description="21% more than last month" />
                    <controls:DaisyStat Title="Downloads" Value="31K" Description="Jan 1st - Feb 1st" Variant="Primary" />
                    <controls:DaisyStat Title="New Users" Value="4,200" Description="↗︎ 400 (22%)" Variant="Secondary" />
                </controls:DaisyStats>

                <controls:DaisyStats Orientation="Vertical">
                    <controls:DaisyStat Title="Downloads" Value="31K" Description="Jan 1st - Feb 1st" />
                    <controls:DaisyStat Title="New Users" Value="4,200" Description="↗︎ 400 (22%)" />
                </controls:DaisyStats>

                <controls:DaisyStats>
                    <controls:DaisyStat Title="Downloads" Value="31K" Description="Jan 1st - Feb 1st" IsCentered="True" />
                    <controls:DaisyStat Title="Users" Value="4,200" Description="↗︎ 40 (2%)" Variant="Secondary" IsCentered="True" />
                </controls:DaisyStats>

                <controls:DaisyStat Title="Account balance" Value="$89,400">
                    <controls:DaisyStat.Figure>
                        <PathIcon Data="{StaticResource CurrencyDollarCircleRegular}" Width="32" Height="32" />
                    </controls:DaisyStat.Figure>
                    <controls:DaisyStat.Actions>
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <controls:DaisyButton Size="ExtraSmall" Variant="Success" Content="Add funds" />
                        </StackPanel>
                    </controls:DaisyStat.Actions>
                </controls:DaisyStat>
            </StackPanel>
        </Border>
    </Design.PreviewWith>

    <!-- DaisyStat Control Theme -->
    <ControlTheme x:Key="{x:Type controls:DaisyStat}" TargetType="controls:DaisyStat">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{DynamicResource DaisyBaseContentBrush}" />
        <Setter Property="Padding" Value="16 12" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{TemplateBinding Background}"
                        Padding="{TemplateBinding Padding}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}">
                    <Grid ColumnDefinitions="*, Auto">
                        <StackPanel Grid.Column="0" Spacing="0"
                                    HorizontalAlignment="{Binding IsCentered, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:StatConverters.CenteredToAlignment}}">
                            <!-- Title -->
                            <TextBlock Text="{TemplateBinding Title}"
                                       FontSize="12"
                                       Opacity="0.6"
                                       Margin="0,0,0,4"
                                       IsVisible="{TemplateBinding Title, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                                       HorizontalAlignment="{Binding IsCentered, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:StatConverters.CenteredToAlignment}}" />

                            <!-- Value -->
                            <TextBlock x:Name="ValueText"
                                       Text="{TemplateBinding Value}"
                                       FontSize="24"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource DaisyBaseContentBrush}"
                                       HorizontalAlignment="{Binding IsCentered, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:StatConverters.CenteredToAlignment}}" />

                            <!-- Description -->
                            <TextBlock Text="{TemplateBinding Description}"
                                       FontSize="12"
                                       Opacity="0.6"
                                       Margin="0,4,0,0"
                                       IsVisible="{TemplateBinding Description, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                                       HorizontalAlignment="{Binding IsCentered, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:StatConverters.CenteredToAlignment}}" />

                            <!-- Actions -->
                            <ContentPresenter Content="{TemplateBinding Actions}"
                                              Margin="0,8,0,0"
                                              IsVisible="{TemplateBinding Actions, Converter={x:Static ObjectConverters.IsNotNull}}"
                                              HorizontalAlignment="{Binding IsCentered, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:StatConverters.CenteredToAlignment}}" />
                        </StackPanel>

                        <!-- Figure (icon/image) -->
                        <ContentPresenter Grid.Column="1"
                                          Content="{TemplateBinding Figure}"
                                          VerticalAlignment="Center"
                                          Margin="16,0,0,0"
                                          IsVisible="{TemplateBinding Figure, Converter={x:Static ObjectConverters.IsNotNull}}" />
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter>

        <!-- Variant styles for Value text color -->
        <Style Selector="^[Variant=Primary] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisyPrimaryBrush}" />
        </Style>
        <Style Selector="^[Variant=Secondary] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisySecondaryBrush}" />
        </Style>
        <Style Selector="^[Variant=Accent] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisyAccentBrush}" />
        </Style>
        <Style Selector="^[Variant=Info] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisyInfoBrush}" />
        </Style>
        <Style Selector="^[Variant=Success] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisySuccessBrush}" />
        </Style>
        <Style Selector="^[Variant=Warning] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisyWarningBrush}" />
        </Style>
        <Style Selector="^[Variant=Error] /template/ TextBlock#ValueText">
            <Setter Property="Foreground" Value="{DynamicResource DaisyErrorBrush}" />
        </Style>
    </ControlTheme>

    <!-- DaisyStats Container Theme -->
    <ControlTheme x:Key="{x:Type controls:DaisyStats}" TargetType="controls:DaisyStats">
        <Setter Property="Background" Value="{DynamicResource DaisyBase100Brush}" />
        <Setter Property="CornerRadius" Value="8" />
        <Setter Property="ClipToBounds" Value="True" />
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect BlurRadius="8" Color="Black" Opacity="0.15" OffsetX="0" OffsetY="2" />
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <ItemsPanelTemplate>
                <StackPanel Orientation="{Binding Orientation, RelativeSource={RelativeSource AncestorType=controls:DaisyStats}}" />
            </ItemsPanelTemplate>
        </Setter>
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{TemplateBinding Background}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        ClipToBounds="{TemplateBinding ClipToBounds}">
                    <ItemsPresenter ItemsPanel="{TemplateBinding ItemsPanel}" />
                </Border>
            </ControlTemplate>
        </Setter>
    </ControlTheme>
</ResourceDictionary>
